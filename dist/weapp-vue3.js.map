{"version":3,"file":"weapp-vue3.js","sources":["../packages/reactivity/src/dep.ts","../packages/shared/src/splitFieldsAndMethods.ts","../packages/shared/src/useHook.ts","../packages/shared/src/index.ts","../packages/reactivity/src/effect.ts","../packages/reactivity/src/baseHandlers.ts","../packages/reactivity/src/reactive.ts","../packages/reactivity/src/ref.ts","../packages/reactivity/src/computed.ts","../packages/reactivity/src/watch.ts","../packages/vue3/src/component.ts","../packages/vue3/src/page.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["createDep","effects","Set","splitFieldsAndMethods","fields","methods","k","obj","useHook","content","hook","watch","proxyRefs","newVal","oldValue","setData","result","Object","keys","forEach","key","immediate","isObject","val","extend","assign","let","activeEffect","shouldTrack","targetMap","WeakMap","ReactiveEffect","constructor","fn","scheduler","this","active","deps","console","log","run","undefined","stop","effect","dep","delete","length","onStop","options","_effect","runner","bind","trackEffects","has","add","push","isTracking","triggerEffects","get","createGetter","readonlyGet","shallowReadonlyGet","isReadonly","shallow","target","receiver","reactiveMap","readonlyMap","shallowReadonlyMap","res","Reflect","track","type","depsMap","Map","set","readonly","reactive","readonlyHandlers","warn","String","mutableHandlers","value","shallowReadonlyHandlers","createReactiveObject","isReactive","proxyMap","baseHandlers","existingProxy","proxy","Proxy","RefImpl","__v_isRef","_rawValue","_value","convert","trackRefValue","newValue","is","triggerRefValue","ref","shallowUnwrapHandlers","unRef","isRef","objectWithRefs","ComputedRefImpl","getter","_dirty","source","cb","traverse","seen","cleanup","onInvalidate","job","effectFn","lazy","flush","Promise","resolve","then","props","setup","Component","behaviors","properties","reduce","prev","item","default","data","lifetimes","created","attached","context","setupProps","moved","detached","Page","onLoad","refImpl"],"mappings":"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"}